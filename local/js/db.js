// Generated by CoffeeScript 1.6.3
(function() {
  var __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  window.DB = (function(_super) {
    __extends(DB, _super);

    function DB() {
      this.areas = {};
      this.towns = {};
      this.things = {
        items: {},
        materials: {},
        supplies: {}
      };
      this.rules = {
        reaction: [],
        combination: []
      };
      this.tasks = null;
      this.storys = null;
      this.initAreas();
      this.initItems();
      this.initRules();
    }

    DB.prototype.initAreas = function() {
      var s;
      s = Utils.getSize();
      return this.areas.forest = {
        name: "森林",
        x: 0,
        y: 0,
        subAreas: {
          entry: {
            bg: [Res.imgs.homeDown],
            resPoints: ["1,1", "20,20", "30,30", "50,50"],
            movePoints: ["exit", "west", "east"]
          },
          east: {
            bg: Res.imgs.homeDown,
            resPoints: ["1,1", "20,80"],
            movePoints: ["entry"]
          },
          west: {
            bg: Res.imgs.homeDown,
            resPoints: ["1,1", "20,80"],
            movePoints: ["entry"]
          }
        }
      };
    };

    DB.prototype.initThings = function() {
      this.things.items = {
        scree: {
          name: "小石子",
          img: Res.imgs.item,
          traits: ["earth:10"],
          gather: ["forest entry.1,west.2,east.1"],
          gatherRequire: null
        },
        flint: {
          name: "燧石",
          traits: ["fire:10", "earth:5"],
          gather: ["forest entry.2,entry.3"]
        },
        lakeWater: {
          name: "湖水",
          traits: ["water:15", "heal:3"],
          gather: ["forest entry.5"]
        },
        blueRose: {
          name: "蓝玫瑰",
          traits: ["water:8", "life:8"],
          gather: ["forest entry.1"]
        },
        herbs: {
          name: "药草",
          traits: ["life:16"],
          gather: ["forest entry.1"]
        },
        caveMashroom: {
          name: "洞穴菇",
          traits: ["water:8", "life:5"],
          arttribute: ["plants"],
          gather: ["forest entry.1"]
        }
      };
      this.things.supplies = {
        healPotion: {
          name: "治疗药剂",
          img: null
        },
        firePotion: {
          name: "火焰药剂",
          img: null
        }
      };
      return this.things.materials = {
        magicLiquid: {
          name: "魔法溶液"
        },
        magicPowder: {
          name: "魔法粉尘"
        }
      };
    };

    DB.prototype.initRules = function() {
      return this.rules.reaction = {
        from: ["fire:5"],
        to: "",
        cond: []
      };
    };

    return DB;

  })(Suzaku.EventEmitter);

}).call(this);
